<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Buscador de Iniciativas del Pleno de Alicante</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Buscador de Iniciativas del Pleno de Alicante</h1>
    <form method="get">
        <select name="grupo">
            <option value="">-- Grupo político --</option>
            {% for g in grupos %}
                <option value="{{ g }}" {% if g == request.args.get('grupo') %}selected{% endif %}>{{ g }}</option>
            {% endfor %}
        </select>

        <input type="text" name="titulo" placeholder="Palabra clave en el título" value="{{ request.args.get('titulo', '') }}">

        <select name="resultado">
            <option value="">-- Resultado --</option>
            {% for r in opciones_resultado %}
                <option value="{{ r }}" {% if r == request.args.get('resultado') %}selected{% endif %}>{{ r }}</option>
            {% endfor %}
        </select>

        <select name="fecha">
            <option value="">-- Fecha del Pleno --</option>
            {% for f in fechas %}
                <option value="{{ f }}" {% if f == request.args.get('fecha') %}selected{% endif %}>{{ f }}</option>
            {% endfor %}
        </select>

        <button type="submit">Buscar</button>
    </form>

    <table>
        <tr>
            <th>Fecha</th>
            <th>Grupo</th>
            <th>Contenido</th>
            <th>Resultado</th>
            <th>Archivo</th>
        </tr>
        {% for row in resultados %}
        <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
